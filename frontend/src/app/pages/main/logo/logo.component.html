<div class="logo-container">
  <h1>üñºÔ∏è Gesti√≥n de Logo</h1>
  <p class="subtitle">Personaliza el logo de la aplicaci√≥n</p>

  <div class="logo-grid">
    <!-- Logo actual -->
    <mat-card class="logo-card">
      <mat-card-header>
        <mat-card-title>Logo Actual</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="logo-preview">
          <img *ngIf="currentLogo" [src]="currentLogo" alt="Logo actual">
          <div *ngIf="!currentLogo" class="no-logo">
            <mat-icon>image</mat-icon>
            <p>Sin logo configurado</p>
          </div>
        </div>
        <button mat-stroked-button color="warn" (click)="removeLogo()" *ngIf="currentLogo" [disabled]="isLoading">
          <mat-icon>delete</mat-icon>
          Eliminar Logo
        </button>
      </mat-card-content>
    </mat-card>

    <!-- Subir archivo -->
    <mat-card class="logo-card">
      <mat-card-header>
        <mat-card-title>Subir Imagen</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <input type="file" 
               #fileInput 
               (change)="onFileSelected($event)" 
               accept="image/png,image/jpeg,image/svg+xml"
               style="display: none">
        
        <div class="upload-zone" (click)="fileInput.click()">
          <img *ngIf="previewUrl" [src]="previewUrl" alt="Preview">
          <div *ngIf="!previewUrl" class="upload-placeholder">
            <mat-icon>cloud_upload</mat-icon>
            <p>Click para seleccionar imagen</p>
            <small>PNG, JPG o SVG (m√°x 2MB)</small>
          </div>
        </div>
        
        <button mat-raised-button color="primary" (click)="uploadLogo()" [disabled]="!previewUrl || isLoading">
          <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
          <span *ngIf="!isLoading">Subir Logo</span>
        </button>
      </mat-card-content>
    </mat-card>

    <!-- URL externa -->
    <mat-card class="logo-card">
      <mat-card-header>
        <mat-card-title>URL Externa</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>URL del Logo</mat-label>
          <input matInput [(ngModel)]="logoUrl" placeholder="https://ejemplo.com/logo.png">
          <mat-hint>Ingresa la URL directa de una imagen</mat-hint>
        </mat-form-field>
        
        <button mat-raised-button color="accent" (click)="saveLogo()" [disabled]="!logoUrl || isLoading">
          <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
          <span *ngIf="!isLoading">Guardar URL</span>
        </button>
      </mat-card-content>
    </mat-card>
  </div>
</div>
